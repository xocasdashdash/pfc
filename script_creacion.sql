CREATE TABLE UAH_GAT_openid_identities (id NUMBER(10) NOT NULL, user_id NUMBER(10) DEFAULT NULL, identity VARCHAR2(255) NOT NULL, attributes CLOB NOT NULL, PRIMARY KEY(id));
CREATE INDEX UAH_GAT_IDX_5DB9C238A76ED395 ON UAH_GAT_openid_identities (user_id);
COMMENT ON COLUMN UAH_GAT_openid_identities.attributes IS '(DC2Type:array)';
CREATE TABLE UAH_GAT_v_TuibPersonaUser (codnum NUMBER(10) NOT NULL, nomprs VARCHAR2(32) NOT NULL, email VARCHAR2(100) DEFAULT NULL, ll1prs VARCHAR2(32) DEFAULT NULL, ll2prs VARCHAR2(32) DEFAULT NULL, tlfprs VARCHAR2(255) NOT NULL, ID_USULDAP VARCHAR2(255) NOT NULL, PRIMARY KEY(codnum));
CREATE TABLE UAH_GAT_Status (id NUMBER(10) NOT NULL, name_es VARCHAR2(255) NOT NULL, name_en VARCHAR2(255) NOT NULL, status VARCHAR2(255) NOT NULL, discr VARCHAR2(255) NOT NULL, PRIMARY KEY(id));
CREATE TABLE UAH_GAT_Enrollment (id NUMBER(10) NOT NULL, status NUMBER(10) DEFAULT NULL, user_id NUMBER(10) DEFAULT NULL, activity_id NUMBER(10) NOT NULL, application_id NUMBER(10) DEFAULT NULL, dateProcessed TIMESTAMP(0) NOT NULL, dateRegistered TIMESTAMP(0) NOT NULL, isProcessed NUMBER(1) NOT NULL, recognizedCredits DOUBLE PRECISION DEFAULT NULL, creditsType DOUBLE PRECISION DEFAULT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX UAH_GAT_UNIQ_AD0C83B67B00651C ON UAH_GAT_Enrollment (status);
CREATE INDEX UAH_GAT_IDX_AD0C83B6A76ED395 ON UAH_GAT_Enrollment (user_id);
CREATE INDEX UAH_GAT_IDX_AD0C83B681C06096 ON UAH_GAT_Enrollment (activity_id);
CREATE INDEX UAH_GAT_IDX_AD0C83B63E030ACD ON UAH_GAT_Enrollment (application_id);
CREATE TABLE UAH_GAT_Degree (id NUMBER(10) NOT NULL, name VARCHAR2(255) NOT NULL, knowledgeArea VARCHAR2(255) NOT NULL, academicCode VARCHAR2(255) NOT NULL, PRIMARY KEY(id));
CREATE TABLE UAH_GAT_Activity (id NUMBER(10) NOT NULL, organizer NUMBER(10) NOT NULL, status_activity NUMBER(10) DEFAULT NULL, name VARCHAR2(500) NOT NULL, englishName VARCHAR2(500) NOT NULL, numberOfECTSCreditsMin DOUBLE PRECISION NOT NULL, numberOfECTSCreditsMax DOUBLE PRECISION NOT NULL, numberOfCreditsMin DOUBLE PRECISION NOT NULL, numberOfCreditsMax DOUBLE PRECISION NOT NULL, isPublic NUMBER(1) NOT NULL, celebrationDates CLOB NOT NULL, hasAdditionalWorkload NUMBER(1) NOT NULL, numberOfHours DOUBLE PRECISION NOT NULL, assistanceControl VARCHAR2(255) NOT NULL, publicityStartDate DATE NOT NULL, registrationManagement NUMBER(1) NOT NULL, extraInformationFile BLOB DEFAULT NULL, url VARCHAR2(255) NOT NULL, slug VARCHAR2(255) NOT NULL, numberOfPlacesOffered NUMBER(10) NOT NULL, numberOfPlacesOccupied NUMBER(10) NOT NULL, approvedByComitee NUMBER(1) NOT NULL, isActive NUMBER(1) NOT NULL, cost DOUBLE PRECISION NOT NULL, description CLOB NOT NULL, image_path VARCHAR2(255) NOT NULL, PRIMARY KEY(id));
CREATE INDEX UAH_GAT_IDX_FA8719199D47173 ON UAH_GAT_Activity (organizer);
CREATE UNIQUE INDEX UAH_GAT_UNIQ_FA8719131AEAE82 ON UAH_GAT_Activity (status_activity);
COMMENT ON COLUMN UAH_GAT_Activity.celebrationDates IS '(DC2Type:json_array)';
CREATE TABLE UAH_GAT_Activity_Degree (activity_id NUMBER(10) NOT NULL, degree_id NUMBER(10) NOT NULL, PRIMARY KEY(activity_id, degree_id));
CREATE INDEX UAH_GAT_IDX_C8C9E83B81C06096 ON UAH_GAT_Activity_Degree (activity_id);
CREATE INDEX UAH_GAT_IDX_C8C9E83BB35C5756 ON UAH_GAT_Activity_Degree (degree_id);
CREATE TABLE UAH_GAT_User (id NUMBER(10) NOT NULL, degree_id NUMBER(10) DEFAULT NULL, name VARCHAR2(255) NOT NULL, email VARCHAR2(255) DEFAULT NULL, type VARCHAR2(255) DEFAULT NULL, creationIp VARCHAR2(255) DEFAULT NULL, uahName VARCHAR2(255) DEFAULT NULL, apellido_1 VARCHAR2(255) DEFAULT NULL, apellido_2 VARCHAR2(255) DEFAULT NULL, documento_identidad VARCHAR2(255) DEFAULT NULL, tipo_documento_identidad VARCHAR2(255) DEFAULT NULL, ID_USULDAP VARCHAR2(255) NOT NULL, PRIMARY KEY(id));
CREATE INDEX UAH_GAT_IDX_8D0E506B35C5756 ON UAH_GAT_User (degree_id);
CREATE TABLE UAH_GAT_User_Roles (role_id NUMBER(10) NOT NULL, user_id NUMBER(10) NOT NULL, PRIMARY KEY(role_id, user_id));
CREATE INDEX UAH_GAT_IDX_E3EDAECCD60322AC ON UAH_GAT_User_Roles (role_id);
CREATE INDEX UAH_GAT_IDX_E3EDAECCA76ED395 ON UAH_GAT_User_Roles (user_id);
CREATE TABLE UAH_GAT_Session (session_id VARCHAR2(255) NOT NULL, session_value VARCHAR2(4000) NOT NULL, session_time NUMBER(10) NOT NULL, PRIMARY KEY(session_id));
CREATE TABLE UAH_GAT_Application (id NUMBER(10) NOT NULL, user_id NUMBER(10) DEFAULT NULL, applicationDate TIMESTAMP(0) NOT NULL, applicationFile BLOB NOT NULL, verificationCode VARCHAR2(255) NOT NULL, isProcessed NUMBER(1) NOT NULL, PRIMARY KEY(id));
CREATE INDEX UAH_GAT_IDX_5122C9C2A76ED395 ON UAH_GAT_Application (user_id);
CREATE TABLE UAH_GAT_Role (id NUMBER(10) NOT NULL, name VARCHAR2(30) NOT NULL, role VARCHAR2(20) NOT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX UAH_GAT_UniqueRole_idx ON UAH_GAT_Role (role);
CREATE SEQUENCE UAH_GAT_openid_identities_id_s START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_v_TuibPersonaUser_codn START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Status_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Enrollment_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Degree_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Activity_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_User_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Application_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Role_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
ALTER TABLE UAH_GAT_openid_identities ADD CONSTRAINT FK_5DB9C238A76ED395 FOREIGN KEY (user_id) REFERENCES UAH_GAT_User (id);
ALTER TABLE UAH_GAT_Enrollment ADD CONSTRAINT FK_AD0C83B67B00651C FOREIGN KEY (status) REFERENCES UAH_GAT_Status (id);
ALTER TABLE UAH_GAT_Enrollment ADD CONSTRAINT FK_AD0C83B6A76ED395 FOREIGN KEY (user_id) REFERENCES UAH_GAT_User (id);
ALTER TABLE UAH_GAT_Enrollment ADD CONSTRAINT FK_AD0C83B681C06096 FOREIGN KEY (activity_id) REFERENCES UAH_GAT_Activity (id);
ALTER TABLE UAH_GAT_Enrollment ADD CONSTRAINT FK_AD0C83B63E030ACD FOREIGN KEY (application_id) REFERENCES UAH_GAT_Application (id);
ALTER TABLE UAH_GAT_Activity ADD CONSTRAINT FK_FA8719199D47173 FOREIGN KEY (organizer) REFERENCES UAH_GAT_User (id);
ALTER TABLE UAH_GAT_Activity ADD CONSTRAINT FK_FA8719131AEAE82 FOREIGN KEY (status_activity) REFERENCES UAH_GAT_Status (id);
ALTER TABLE UAH_GAT_Activity_Degree ADD CONSTRAINT FK_C8C9E83B81C06096 FOREIGN KEY (activity_id) REFERENCES UAH_GAT_Activity (id);
ALTER TABLE UAH_GAT_Activity_Degree ADD CONSTRAINT FK_C8C9E83BB35C5756 FOREIGN KEY (degree_id) REFERENCES UAH_GAT_Degree (id);
ALTER TABLE UAH_GAT_User ADD CONSTRAINT FK_8D0E506B35C5756 FOREIGN KEY (degree_id) REFERENCES UAH_GAT_Degree (id);
ALTER TABLE UAH_GAT_User_Roles ADD CONSTRAINT FK_E3EDAECCD60322AC FOREIGN KEY (role_id) REFERENCES UAH_GAT_User (id);
ALTER TABLE UAH_GAT_User_Roles ADD CONSTRAINT FK_E3EDAECCA76ED395 FOREIGN KEY (user_id) REFERENCES UAH_GAT_Role (id);
ALTER TABLE UAH_GAT_Application ADD CONSTRAINT FK_5122C9C2A76ED395 FOREIGN KEY (user_id) REFERENCES UAH_GAT_User (id);
CREATE TABLE UAH_GAT_openid_identities (id NUMBER(10) NOT NULL, user_id NUMBER(10) DEFAULT NULL, identity VARCHAR2(255) NOT NULL, attributes CLOB NOT NULL, PRIMARY KEY(id));
CREATE INDEX UAH_GAT_IDX_5DB9C238A76ED395 ON UAH_GAT_openid_identities (user_id);
COMMENT ON COLUMN UAH_GAT_openid_identities.attributes IS '(DC2Type:array)';
CREATE TABLE UAH_GAT_v_TuibPersonaUser (codnum NUMBER(10) NOT NULL, nomprs VARCHAR2(32) NOT NULL, email VARCHAR2(100) DEFAULT NULL, ll1prs VARCHAR2(32) DEFAULT NULL, ll2prs VARCHAR2(32) DEFAULT NULL, tlfprs VARCHAR2(255) NOT NULL, ID_USULDAP VARCHAR2(255) NOT NULL, PRIMARY KEY(codnum));
CREATE TABLE UAH_GAT_Status (id NUMBER(10) NOT NULL, name_es VARCHAR2(255) NOT NULL, name_en VARCHAR2(255) NOT NULL, status VARCHAR2(255) NOT NULL, discr VARCHAR2(255) NOT NULL, PRIMARY KEY(id));
CREATE TABLE UAH_GAT_Enrollment (id NUMBER(10) NOT NULL, status NUMBER(10) DEFAULT NULL, user_id NUMBER(10) DEFAULT NULL, activity_id NUMBER(10) NOT NULL, application_id NUMBER(10) DEFAULT NULL, dateProcessed TIMESTAMP(0) NOT NULL, dateRegistered TIMESTAMP(0) NOT NULL, isProcessed NUMBER(1) NOT NULL, recognizedCredits DOUBLE PRECISION DEFAULT NULL, creditsType DOUBLE PRECISION DEFAULT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX UAH_GAT_UNIQ_AD0C83B67B00651C ON UAH_GAT_Enrollment (status);
CREATE INDEX UAH_GAT_IDX_AD0C83B6A76ED395 ON UAH_GAT_Enrollment (user_id);
CREATE INDEX UAH_GAT_IDX_AD0C83B681C06096 ON UAH_GAT_Enrollment (activity_id);
CREATE INDEX UAH_GAT_IDX_AD0C83B63E030ACD ON UAH_GAT_Enrollment (application_id);
CREATE TABLE UAH_GAT_Degree (id NUMBER(10) NOT NULL, name VARCHAR2(255) NOT NULL, knowledgeArea VARCHAR2(255) NOT NULL, academicCode VARCHAR2(255) NOT NULL, PRIMARY KEY(id));
CREATE TABLE UAH_GAT_Activity (id NUMBER(10) NOT NULL, organizer NUMBER(10) NOT NULL, status_activity NUMBER(10) DEFAULT NULL, name VARCHAR2(500) NOT NULL, englishName VARCHAR2(500) NOT NULL, numberOfECTSCreditsMin DOUBLE PRECISION NOT NULL, numberOfECTSCreditsMax DOUBLE PRECISION NOT NULL, numberOfCreditsMin DOUBLE PRECISION NOT NULL, numberOfCreditsMax DOUBLE PRECISION NOT NULL, isPublic NUMBER(1) NOT NULL, celebrationDates CLOB NOT NULL, hasAdditionalWorkload NUMBER(1) NOT NULL, numberOfHours DOUBLE PRECISION NOT NULL, assistanceControl VARCHAR2(255) NOT NULL, publicityStartDate DATE NOT NULL, registrationManagement NUMBER(1) NOT NULL, extraInformationFile BLOB DEFAULT NULL, url VARCHAR2(255) NOT NULL, slug VARCHAR2(255) NOT NULL, numberOfPlacesOffered NUMBER(10) NOT NULL, numberOfPlacesOccupied NUMBER(10) NOT NULL, approvedByComitee NUMBER(1) NOT NULL, isActive NUMBER(1) NOT NULL, cost DOUBLE PRECISION NOT NULL, description CLOB NOT NULL, image_path VARCHAR2(255) NOT NULL, PRIMARY KEY(id));
CREATE INDEX UAH_GAT_IDX_FA8719199D47173 ON UAH_GAT_Activity (organizer);
CREATE UNIQUE INDEX UAH_GAT_UNIQ_FA8719131AEAE82 ON UAH_GAT_Activity (status_activity);
COMMENT ON COLUMN UAH_GAT_Activity.celebrationDates IS '(DC2Type:json_array)';
CREATE TABLE UAH_GAT_Activity_Degree (activity_id NUMBER(10) NOT NULL, degree_id NUMBER(10) NOT NULL, PRIMARY KEY(activity_id, degree_id));
CREATE INDEX UAH_GAT_IDX_C8C9E83B81C06096 ON UAH_GAT_Activity_Degree (activity_id);
CREATE INDEX UAH_GAT_IDX_C8C9E83BB35C5756 ON UAH_GAT_Activity_Degree (degree_id);
CREATE TABLE UAH_GAT_User (id NUMBER(10) NOT NULL, degree_id NUMBER(10) DEFAULT NULL, name VARCHAR2(255) NOT NULL, email VARCHAR2(255) DEFAULT NULL, type VARCHAR2(255) DEFAULT NULL, creationIp VARCHAR2(255) DEFAULT NULL, uahName VARCHAR2(255) DEFAULT NULL, apellido_1 VARCHAR2(255) DEFAULT NULL, apellido_2 VARCHAR2(255) DEFAULT NULL, documento_identidad VARCHAR2(255) DEFAULT NULL, tipo_documento_identidad VARCHAR2(255) DEFAULT NULL, ID_USULDAP VARCHAR2(255) NOT NULL, PRIMARY KEY(id));
CREATE INDEX UAH_GAT_IDX_8D0E506B35C5756 ON UAH_GAT_User (degree_id);
CREATE TABLE UAH_GAT_User_Roles (role_id NUMBER(10) NOT NULL, user_id NUMBER(10) NOT NULL, PRIMARY KEY(role_id, user_id));
CREATE INDEX UAH_GAT_IDX_E3EDAECCD60322AC ON UAH_GAT_User_Roles (role_id);
CREATE INDEX UAH_GAT_IDX_E3EDAECCA76ED395 ON UAH_GAT_User_Roles (user_id);
CREATE TABLE UAH_GAT_Session (session_id VARCHAR2(255) NOT NULL, session_value VARCHAR2(4000) NOT NULL, session_time NUMBER(10) NOT NULL, PRIMARY KEY(session_id));
CREATE TABLE UAH_GAT_Application (id NUMBER(10) NOT NULL, user_id NUMBER(10) DEFAULT NULL, applicationDate TIMESTAMP(0) NOT NULL, applicationFile BLOB NOT NULL, verificationCode VARCHAR2(255) NOT NULL, isProcessed NUMBER(1) NOT NULL, PRIMARY KEY(id));
CREATE INDEX UAH_GAT_IDX_5122C9C2A76ED395 ON UAH_GAT_Application (user_id);
CREATE TABLE UAH_GAT_Role (id NUMBER(10) NOT NULL, name VARCHAR2(30) NOT NULL, role VARCHAR2(20) NOT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX UAH_GAT_UniqueRole_idx ON UAH_GAT_Role (role);
CREATE SEQUENCE UAH_GAT_openid_identities_id_s START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_v_TuibPersonaUser_codn START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Status_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Enrollment_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Degree_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Activity_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_User_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Application_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
CREATE SEQUENCE UAH_GAT_Role_id_seq START WITH 1 MINVALUE 1 INCREMENT BY 1;
ALTER TABLE UAH_GAT_openid_identities ADD CONSTRAINT FK_5DB9C238A76ED395 FOREIGN KEY (user_id) REFERENCES UAH_GAT_User (id);
ALTER TABLE UAH_GAT_Enrollment ADD CONSTRAINT FK_AD0C83B67B00651C FOREIGN KEY (status) REFERENCES UAH_GAT_Status (id);
ALTER TABLE UAH_GAT_Enrollment ADD CONSTRAINT FK_AD0C83B6A76ED395 FOREIGN KEY (user_id) REFERENCES UAH_GAT_User (id);
ALTER TABLE UAH_GAT_Enrollment ADD CONSTRAINT FK_AD0C83B681C06096 FOREIGN KEY (activity_id) REFERENCES UAH_GAT_Activity (id);
ALTER TABLE UAH_GAT_Enrollment ADD CONSTRAINT FK_AD0C83B63E030ACD FOREIGN KEY (application_id) REFERENCES UAH_GAT_Application (id);
ALTER TABLE UAH_GAT_Activity ADD CONSTRAINT FK_FA8719199D47173 FOREIGN KEY (organizer) REFERENCES UAH_GAT_User (id);
ALTER TABLE UAH_GAT_Activity ADD CONSTRAINT FK_FA8719131AEAE82 FOREIGN KEY (status_activity) REFERENCES UAH_GAT_Status (id);
ALTER TABLE UAH_GAT_Activity_Degree ADD CONSTRAINT FK_C8C9E83B81C06096 FOREIGN KEY (activity_id) REFERENCES UAH_GAT_Activity (id);
ALTER TABLE UAH_GAT_Activity_Degree ADD CONSTRAINT FK_C8C9E83BB35C5756 FOREIGN KEY (degree_id) REFERENCES UAH_GAT_Degree (id);
ALTER TABLE UAH_GAT_User ADD CONSTRAINT FK_8D0E506B35C5756 FOREIGN KEY (degree_id) REFERENCES UAH_GAT_Degree (id);
ALTER TABLE UAH_GAT_User_Roles ADD CONSTRAINT FK_E3EDAECCD60322AC FOREIGN KEY (role_id) REFERENCES UAH_GAT_User (id);
ALTER TABLE UAH_GAT_User_Roles ADD CONSTRAINT FK_E3EDAECCA76ED395 FOREIGN KEY (user_id) REFERENCES UAH_GAT_Role (id);
ALTER TABLE UAH_GAT_Application ADD CONSTRAINT FK_5122C9C2A76ED395 FOREIGN KEY (user_id) REFERENCES UAH_GAT_User (id);
